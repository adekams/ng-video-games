<div class="game-detail-container">
  <!-- Header Section -->
  <div class="header">
    <h1 class="game-title">{{ game?.name }}</h1>
  </div>

  <!-- Hero Image -->
  <div class="hero-image">
    <img
      *ngIf="game?.background_image"
      [src]="game?.background_image"
      alt="{{ game?.name }}"
    />
    <img
      *ngIf="!game?.background_image"
      src="https://res.cloudinary.com/adenike/image/upload/v1642002314/no-image_iah8ux.png"
      alt="No image available"
    />
  </div>

  <!-- Info Cards Grid -->
  <div class="info-cards">
    <!-- Name Card -->
    <div class="info-card">
      <div class="card-label">Name</div>
      <div class="card-value">{{ game?.name }}</div>
    </div>

    <!-- Rating Card -->
    <div class="info-card">
      <div class="card-label">Rating</div>
      <div class="card-value">
        <span class="rating-value">{{ game?.metacritic }}</span>
        <img src="assets/icons/star.svg" alt="Star" class="rating-star" />
      </div>
    </div>

    <!-- Released Card -->
    <div class="info-card">
      <div class="card-label">Released</div>
      <div class="card-value">{{ game?.released | date: "mediumDate" }}</div>
    </div>

    <!-- Reviews Card -->
    <div class="info-card">
      <div class="card-label">Reviews</div>
      <div class="card-value">{{ game?.reviews_count }}</div>
    </div>
  </div>

  <!-- Genres Section -->
  <section class="section">
    <h2 class="section-title">Genres</h2>
    <div *ngIf="game?.genres?.length; else noGenres" class="pills-container">
      <span *ngFor="let genre of game?.genres" class="pill">{{
        genre?.name
      }}</span>
    </div>
    <ng-template #noGenres>
      <div class="empty-state">No genres available</div>
    </ng-template>
  </section>

  <!-- Platforms Section -->
  <section class="section">
    <h2 class="section-title">Platforms</h2>
    <div
      *ngIf="game?.parent_platforms?.length; else noPlatforms"
      class="platforms"
    >
      <span
        *ngFor="let platform of game?.parent_platforms"
        class="platform-badge"
      >
        {{ platform?.platform?.name }}
      </span>
    </div>
    <ng-template #noPlatforms>
      <div class="empty-state">No platforms available</div>
    </ng-template>
  </section>

  <!-- Rating Breakdown Section -->
  <section class="section" *ngIf="game?.ratings?.length">
    <h2 class="section-title">Rating Breakdown</h2>
    <div class="rating-breakdown">
      <div *ngFor="let rating of game?.ratings" class="rating-item">
        <div class="rating-label">{{ rating?.title }}</div>
        <div class="rating-bar-container">
          <div
            class="rating-bar"
            [style.width]="
              (rating?.count / (game?.ratings[0]?.count || 1)) * 100 + '%'
            "
          ></div>
        </div>
        <div class="rating-count">{{ rating?.count }}</div>
      </div>
    </div>
  </section>

  <!-- Tags Section -->
  <section class="section" *ngIf="game?.tags?.length">
    <h2 class="section-title">Tags & Features</h2>
    <div class="tags-container">
      <span
        *ngFor="let tag of game?.tags?.slice(0, 20)"
        class="tag"
        [title]="tag?.name"
      >
        {{ tag?.name }}
      </span>
      <span *ngIf="game?.tags?.length > 20" class="tag-more"
        >+{{ game?.tags?.length - 20 }}</span
      >
    </div>
  </section>

  <!-- Screenshots Section -->
  <section class="section" *ngIf="game?.short_screenshots?.length">
    <h2 class="section-title">Screenshots</h2>
    <div class="screenshots-gallery">
      <div
        *ngFor="let screenshot of game?.short_screenshots"
        class="screenshot-item"
        (click)="openImagePreview(screenshot?.image)"
      >
        <img [src]="screenshot?.image" alt="Screenshot" />
        <div class="screenshot-overlay">
          <span class="expand-icon">⤢</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Image Preview Modal -->
  <div
    *ngIf="selectedImage"
    class="image-preview-modal"
    (click)="closeImagePreview()"
  >
    <div class="modal-content" (click)="$event.stopPropagation()">
      <img [src]="selectedImage" alt="Preview" class="preview-image" />
      <button class="close-button" (click)="closeImagePreview()">✕</button>
    </div>
  </div>
</div>

<!--
  <div class="slider">
    <input type="radio" name="slider" title="slide1" checked="checked" class="slider__nav" />
    <input type="radio" name="slider" title="slide2" class="slider__nav" />
    <input type="radio" name="slider" title="slide3" class="slider__nav" />
    <input type="radio" name="slider" title="slide4" class="slider__nav" />
    <div class="slider__inner">
      <div class="slider__contents"><i class="slider__image fa fa-codepen"></i>
        <h2 class="slider__caption">codepen</h2>
        <p class="slider__txt">Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cupiditate omnis possimus
          illo quos, corporis minima!</p>
      </div>
      <div class="slider__contents"><i class="slider__image fa fa-newspaper-o"></i>
        <h2 class="slider__caption">newspaper-o</h2>
        <p class="slider__txt">Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cupiditate omnis possimus
          illo quos, corporis minima!</p>
      </div>
      <div class="slider__contents"><i class="slider__image fa fa-television"></i>
        <h2 class="slider__caption">television</h2>
        <p class="slider__txt">Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cupiditate omnis possimus
          illo quos, corporis minima!</p>
      </div>
      <div class="slider__contents"><i class="slider__image fa fa-diamond"></i>
        <h2 class="slider__caption">diamond</h2>
        <p class="slider__txt">Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cupiditate omnis possimus
          illo quos, corporis minima!</p>
      </div>
    </div>
  </div>
  -->
<!-- <app-slider [images]="game?.short_screenshots"></app-slider>
  <div class="slider">
    <ng-container *ngFor="let item of game?.short_screenshots">
      <input type="radio" name="slider" title="slide1" checked="checked" class="slider__nav" />
    </ng-container>
    <div class="slider__inner">
      <ng-container *ngFor="let item of game?.short_screenshots">
        <div class="slider__contents">
          <img [src]="item?.image" alt="image" />
        </div>
      </ng-container>
    </div>
  </div>
 -->
